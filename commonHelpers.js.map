{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst userInput = document.querySelector('.data-select');\nconst userList = document.querySelector('.gallery-list');\nconst activeLoader = document.querySelector('.loader');\n\nuserInput.addEventListener('submit', e => {\n  e.preventDefault();\n  const userInputValue = userInput.elements.request.value.trim();\n  userList.innerHTML = '';\n  activeLoader.classList.toggle('loader-active');\n  fetchUsers(userInputValue)\n    .then(data => {\n      activeLoader.classList.toggle('loader-active');\n      renderGallery(data);\n    })\n    .catch(error => {\n      console.log('hello');\n      activeLoader.classList.toggle('loader-active');\n      iziToast.error({\n        message:\n          'Sorry, there are no images matching </br> your search query. Please try again!',\n        messageColor: '#FAFAFB',\n        messageSize: '16',\n        messageLineHeight: '20',\n        position: 'bottomCenter',\n        backgroundColor: '#EF4040',\n        icon: 'bi:x-octagon',\n        iconColor: '#FAFAFB',\n      });\n    })\n    .finally(() => {\n      userInput.reset();\n    });\n});\n\nconst searchParams = new URLSearchParams({\n  image_type: 'photo',\n  orientation: 'horizontal',\n  safesearch: true,\n});\n\nfunction fetchUsers(userRequest) {\n  return fetch(\n    `https://pixabay.com/api/?key=41825347-2a0e6255edbe790f7737a6334&q=${userRequest}&${searchParams}`\n  ).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n\nfunction renderGallery(data) {\n  const markup = data.hits\n    .map(hit => {\n      return `<li class=\"gallery-item\">\n          <a class=\"gallery-link\" href=\"${hit.largeImageURL}\">\n    \t      <img\n\t\t          class=\"gallery-image\"\n\t\t          src=\"${hit.webformatURL}\"\n\t\t          alt=\"${hit.tags}\"\n              width=\"360\"\n              height=\"200\"\n              ;\n    \t      />\n            <ul class=\"info-list\">\n              <li class=\"info-item\">\n                <h class=\"item-title\">Likes</h>\n                <p class=\"item-content\">${hit.likes}</p>\n              </li>\n              <li class=\"info-item\">\n                <h class=\"item-title\">Views</h>\n                <p class=\"item-content\">${hit.views}</p>\n              </li>\n              <li class=\"info-item\">\n                <h class=\"item-title\">Comments</h>\n                <p class=\"item-content\">${hit.comments}</p>\n              </li>\n              <li class=\"info-item\">\n                <h class=\"item-title\">Downloads</h>\n                <p class=\"item-content\">${hit.downloads}</p>\n              </li>\n            </ul>\n  \t\t    </a>\n        </li>`;\n    })\n    .join('');\n  userList.insertAdjacentHTML('beforeend', markup);\n\n  const lightbox = new SimpleLightbox('.gallery-list a', {\n    captionsData: 'alt',\n    captionDelay: 250,\n  });\n  lightbox.refresh();\n}\n"],"names":["userInput","userList","activeLoader","e","userInputValue","fetchUsers","data","renderGallery","error","iziToast","searchParams","userRequest","response","markup","hit","SimpleLightbox"],"mappings":"6vBAMA,MAAMA,EAAY,SAAS,cAAc,cAAc,EACjDC,EAAW,SAAS,cAAc,eAAe,EACjDC,EAAe,SAAS,cAAc,SAAS,EAErDF,EAAU,iBAAiB,SAAUG,GAAK,CACxCA,EAAE,eAAc,EAChB,MAAMC,EAAiBJ,EAAU,SAAS,QAAQ,MAAM,OACxDC,EAAS,UAAY,GACrBC,EAAa,UAAU,OAAO,eAAe,EAC7CG,EAAWD,CAAc,EACtB,KAAKE,GAAQ,CACZJ,EAAa,UAAU,OAAO,eAAe,EAC7CK,EAAcD,CAAI,CACxB,CAAK,EACA,MAAME,GAAS,CACd,QAAQ,IAAI,OAAO,EACnBN,EAAa,UAAU,OAAO,eAAe,EAC7CO,EAAS,MAAM,CACb,QACE,iFACF,aAAc,UACd,YAAa,KACb,kBAAmB,KACnB,SAAU,eACV,gBAAiB,UACjB,KAAM,eACN,UAAW,SACnB,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CACbT,EAAU,MAAK,CACrB,CAAK,CACL,CAAC,EAED,MAAMU,EAAe,IAAI,gBAAgB,CACvC,WAAY,QACZ,YAAa,aACb,WAAY,EACd,CAAC,EAED,SAASL,EAAWM,EAAa,CAC/B,OAAO,MACL,qEAAqEA,KAAeD,GACxF,EAAI,KAAKE,GAAY,CACjB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,CAEA,SAASL,EAAcD,EAAM,CAC3B,MAAMO,EAASP,EAAK,KACjB,IAAIQ,GACI;AAAA,0CAC6BA,EAAI;AAAA;AAAA;AAAA,mBAG3BA,EAAI;AAAA,mBACJA,EAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0CAQmBA,EAAI;AAAA;AAAA;AAAA;AAAA,0CAIJA,EAAI;AAAA;AAAA;AAAA;AAAA,0CAIJA,EAAI;AAAA;AAAA;AAAA;AAAA,0CAIJA,EAAI;AAAA;AAAA;AAAA;AAAA,cAKzC,EACA,KAAK,EAAE,EACVb,EAAS,mBAAmB,YAAaY,CAAM,EAE9B,IAAIE,EAAe,kBAAmB,CACrD,aAAc,MACd,aAAc,GAClB,CAAG,EACQ,QAAO,CAClB"}